#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ª–∏–∑–∞ CloudChef Print Agent v1.1.2
# –ê–≤—Ç–æ—Ä: AI Assistant
# –î–∞—Ç–∞: 15 –æ–∫—Ç—è–±—Ä—è 2025

echo "üöÄ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞ CloudChef Print Agent v1.1.2"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –º—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
if [ ! -f "package.json" ]; then
    echo "‚ùå –û—à–∏–±–∫–∞: package.json –Ω–µ –Ω–∞–π–¥–µ–Ω. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞."
    exit 1
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ–∞–π–ª—ã —Ä–µ–ª–∏–∑–∞ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
RELEASE_FILES=(
    "release-files/CloudChef Print Agent Setup 1.1.2.exe"
    "release-files/CloudChef Print Agent-1.1.2-arm64.dmg"
    "release-files/CloudChef Print Agent-1.1.2-arm64-mac.zip"
)

echo "üìÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ —Ä–µ–ª–∏–∑–∞..."
for file in "${RELEASE_FILES[@]}"; do
    if [ ! -f "$file" ]; then
        echo "‚ùå –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω: $file"
        exit 1
    fi
    echo "‚úÖ –ù–∞–π–¥–µ–Ω: $file"
done

# –ü—Ä–æ–≤–µ—Ä—è–µ–º git —Å—Ç–∞—Ç—É—Å
echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ git —Å—Ç–∞—Ç—É—Å–∞..."
if [ -n "$(git status --porcelain)" ]; then
    echo "‚ö†Ô∏è  –ï—Å—Ç—å –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è. –ö–æ–º–º–∏—Ç–∏–º –∏—Ö..."
    git add .
    git commit -m "Prepare release v1.1.2 - final changes"
    git push origin main
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–µ–≥ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
if git tag -l | grep -q "v1.1.2"; then
    echo "‚úÖ –¢–µ–≥ v1.1.2 —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
else
    echo "‚ùå –¢–µ–≥ v1.1.2 –Ω–µ –Ω–∞–π–¥–µ–Ω"
    exit 1
fi

echo ""
echo "üéØ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ª–∏–∑–∞ –Ω–∞ GitHub:"
echo ""
echo "1. –û—Ç–∫—Ä–æ–π—Ç–µ https://github.com/mosu1985/cloudchef-print-agent/releases"
echo "2. –ù–∞–∂–º–∏—Ç–µ 'Create a new release'"
echo "3. –í –ø–æ–ª–µ 'Tag version' –≤—ã–±–µ—Ä–∏—Ç–µ: v1.1.2"
echo "4. –í –ø–æ–ª–µ 'Release title' –≤–≤–µ–¥–∏—Ç–µ: CloudChef Print Agent v1.1.2 - Fix Auto-fill Fields"
echo ""
echo "5. –í –ø–æ–ª–µ 'Description' –≤—Å—Ç–∞–≤—å—Ç–µ:"
echo ""
cat << 'EOF'
## üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π –ø—Ä–∏ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∞–≥–µ–Ω—Ç–∞ –ø–æ–ª—è "–ö–æ–¥ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞" –∏ "–¢–æ–∫–µ–Ω –∞–≥–µ–Ω—Ç–∞" –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–ª–∏—Å—å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ Bomond.

**–†–µ—à–µ–Ω–∏–µ:** 
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –û—á–∏—â–µ–Ω—ã —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ—Ç —Å—Ç–∞—Ä—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –ü–æ–ª—è —Ç–µ–ø–µ—Ä—å –æ—Å—Ç–∞—é—Ç—Å—è –ø—É—Å—Ç—ã–º–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ

## üì¶ –§–∞–π–ª—ã –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è

- **Windows**: `CloudChef Print Agent Setup 1.1.2.exe` - —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –¥–ª—è Windows 10+
- **macOS**: `CloudChef Print Agent-1.1.2-arm64.dmg` - —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –¥–ª—è macOS (Apple Silicon)
- **macOS Portable**: `CloudChef Print Agent-1.1.2-arm64-mac.zip` - –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è macOS

## ‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Windows**: Windows 10 –∏–ª–∏ –Ω–æ–≤–µ–µ
- **macOS**: macOS 10.12+ (Intel –∏–ª–∏ Apple Silicon)
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É CloudChef

## üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–µ—Ä—Å–∏–∏ 1.1.2

- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ø–æ–ª–µ–π –ø—Ä–∏ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- ‚úÖ **–ü–æ–ª—è —Ç–µ–ø–µ—Ä—å –ø—É—Å—Ç—ã–µ** –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- ‚úÖ **–£–¥–∞–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ Bomond
- ‚úÖ **–£–ª—É—á—à–µ–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

1. **–°–∫–∞—á–∞–π—Ç–µ** –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Ñ–∞–π–ª –¥–ª—è –≤–∞—à–µ–π –û–°
2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ** CloudChef Print Agent
4. **–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞** (8 —Å–∏–º–≤–æ–ª–æ–≤)
5. **–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –∞–≥–µ–Ω—Ç–∞** (–ø–æ–ª—É—á–∏—Ç–µ –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ CloudChef)
6. **–ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è"**

–ü—Ä–∏ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤—Å–µ –ø–æ–ª—è –±—É–¥—É—Ç –ø—É—Å—Ç—ã–º–∏ - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!
EOF

echo ""
echo "6. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:"
for file in "${RELEASE_FILES[@]}"; do
    echo "   - $file"
done

echo ""
echo "7. –ù–∞–∂–º–∏—Ç–µ 'Publish release'"
echo ""
echo "üîó –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ª–∏–∑–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Å—ã–ª–∫–∏:"
echo "Windows: https://github.com/mosu1985/cloudchef-print-agent/releases/download/v1.1.2/CloudChef%20Print%20Agent%20Setup%201.1.2.exe"
echo "macOS: https://github.com/mosu1985/cloudchef-print-agent/releases/download/v1.1.2/CloudChef%20Print%20Agent-1.1.2-arm64.dmg"
echo ""
echo "‚úÖ –ì–æ—Ç–æ–≤–æ! –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ª–∏–∑–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∏–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é."